"use strict";(self.webpackChunkbarney_s_travels=self.webpackChunkbarney_s_travels||[]).push([[334],{6773:function(e,t,l){l.r(t),l.d(t,{Head:function(){return y},default:function(){return x}});var n=l(6540),a=l(8796),s=l(9934),r=l(3816),c=l(2204),i=l(6942),m=l.n(i),o=l(7459),u=l(9904),d=l(2746),b=l(4810);var f=e=>{let{title:t,slug:l,summary:a,countries:s,albumIds:i,id:f,publicationDate:g}=e;const{0:p,1:x}=(0,n.useState)(!1),{getAlbumsById:y}=(0,r.A)(),{ymdToDmy:E}=(0,o.A)(),{nameString:v}=(0,u.A)(s),h=y(i);let w=h,N=!1;h.length>2&&(N=!0,p||(w=h.slice(0,1)));const k=w.map((e=>n.createElement("div",{className:"flex-grow basis-5/12",key:`${e.id}_${f}`},n.createElement(c.A,{title:e.title,background:e.featured?e.pictures[e.featured]:e.pictures[0],slug:e.slug,albumId:e.id,mini:!0}))));return n.createElement("div",{className:"flex flex-row space-between border-solid border-b-2 mb-6 py-2"},n.createElement("div",{className:m()({"basis-8/12":h.length>0},"pr-4")},n.createElement(b.Link,{to:l},n.createElement("h2",{className:"text-2xl mb-2 underline"},t)),n.createElement("div",{className:"font-medium text-sm pb-1"},v," â€¢ ",E(g)),n.createElement(d.o,{className:"line-clamp-4"},a)),n.createElement("div",{className:"flex flex-row flex-wrap flex-grow gap-2"},k,N&&!p&&n.createElement("button",{type:"button",className:"flex flex-col justify-center h-40 bg-gray-200 p-6",onClick:()=>{x(!p)}},n.createElement("div",{className:"bg-gray-400 p-3 rounded-full text-white text-2xl font-light text-center min-w-14 min-h-14 flex flex-col justify-center align-middle"},n.createElement("div",null,"+",h.length-1)))))};var g=function(e){let{blogPosts:t}=e;return n.createElement(s.A,null,n.createElement("div",{className:"flex flex-col py-8"},t.map((e=>(console.log(e.id),n.createElement(f,{key:e.id,id:e.id,title:e.title,slug:e.slug,summary:e.content,albumIds:e.albums,countries:e.countries,publicationDate:e.publication_date}))))))},p=l(2207);var x=function(e){let{location:t}=e;const{blogPosts:l,getPostsByCountries:s}=(0,p.A)(),r=new URLSearchParams(t.search).get("country");let c=l,i=[];r&&(i=r.split(","),c=s(i));const{nameString:m}=(0,u.A)(i);return n.createElement(a.A,{title:i.length>0?`Posts from: ${m}`:"Recent Posts"},n.createElement(g,{blogPosts:c}))};const y=()=>n.createElement("title",null,"Blog - Barney's Travels")}}]);
//# sourceMappingURL=component---src-pages-blog-index-js-d99d66afea09eb796755.js.map